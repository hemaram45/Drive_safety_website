<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DriveSafely - Professional Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #ffb200;
            --secondary-color: #00cc66;
            --bg-color: #f4f6f8;
            --card-bg: #ffffff;
            --text-color: #333333;
            --card-shadow: rgba(0, 0, 0, 0.1);
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            background: var(--bg-color);
            color: var(--text-color);
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            min-height: 100vh;
            background: #fff;
            display: flex;
            flex-direction: column;
            padding-top: 30px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);
        }

        .sidebar h2 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8em;
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li {
            padding: 15px 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-radius: 8px;
            transition: 0.3s;
            font-size: 1em;
            color: #333;
            position: relative;
            overflow: hidden;
        }

        .sidebar ul li::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, #ffb200, #00cc66, #00bfff, #ff4d4d);
            transition: 0.5s;
            z-index: 0;
        }

        .sidebar ul li:hover::before {
            left: 0;
        }

        .sidebar ul li i {
            margin-right: 12px;
            position: relative;
            z-index: 1;
        }

        .sidebar ul li span,
        .sidebar ul li text {
            position: relative;
            z-index: 1;
        }

        .sidebar ul li:hover {
            color: #fff;
        }

        .badge {
            background: red;
            border-radius: 50%;
            padding: 3px 8px;
            font-size: 0.8em;
            color: #fff;
            position: relative;
            z-index: 1;
        }

        /* Main content */
        .main {
            flex: 1;
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 20px var(--card-shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, rgba(255, 178, 0, 0.1), rgba(0, 204, 102, 0.1));
            z-index: 0;
        }

        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .card h3 {
            margin-bottom: 20px;
            color: var(--primary-color);
            position: relative;
            z-index: 1;
            display: inline-block;
        }

        .card h3::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -5px;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, #ffb200, #00cc66, #00bfff, #ff4d4d);
            transition: width 0.5s ease;
            border-radius: 2px;
        }

        .card h3:hover::after {
            width: 100%;
        }

        .profile-card img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 3px solid var(--primary-color);
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
            position: relative;
            z-index: 1;
        }

        th,
        td {
            padding: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            text-align: left;
        }

        th {
            color: var(--primary-color);
        }

        td.status.Sent {
            color: var(--secondary-color);
            font-weight: bold;
        }

        td.status.Read {
            color: var(--primary-color);
            font-weight: bold;
        }

        /* Lists */
        ul {
            padding-left: 0;
        }

        ul li {
            list-style: none;
            background: #f1f3f5;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            transition: 0.3s;
            position: relative;
            z-index: 1;
        }

        ul li i {
            color: var(--primary-color);
            margin-right: 10px;
        }

        ul li:hover {
            background: #e6e8eb;
        }
    </style>
</head>

<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>DriveSafely</h2>
        <ul>
            <li onclick="showSection('profile')"><i class="fas fa-user"></i> Profile</li>
            <li onclick="showSection('reminders')"><i class="fas fa-bell"></i> Reminders <span class="badge"
                    id="reminder-count">0</span></li>
            <li onclick="showSection('quizzes')"><i class="fas fa-pen"></i> Quizzes <span class="badge"
                    id="quiz-count">0</span></li>
            <li onclick="showSection('fines')"><i class="fas fa-money-bill"></i> Fines <span class="badge"
                    id="fine-count">0</span></li>
            <li onclick="showSection('messages')"><i class="fas fa-envelope"></i> Contact Us <span class="badge"
                    id="msg-count">0</span></li>
            <li onclick="goBack()"><i class="fas fa-arrow-left"></i> Back</li>
        </ul>
    </div>

    <!-- Main content -->
    <div class="main">

        <!-- Profile -->
        <div class="card profile-card" id="profile">
            <div style="text-align:center;">
                <img id="profile-pic" src="p1.png" alt="Profile">
                <h2 id="username">User Name</h2>
                <p id="email">üìß user@email.com</p>
                <p id="phone">üì± +91-0000000000</p>
                <p id="joined">üóìÔ∏è Joined: Jan 2025</p>
            </div>
        </div>

        <!-- Reminders -->
        <div class="card" id="reminders">
            <h3>‚è∞ Reminders</h3>
            <ul id="reminder-list"></ul>
        </div>

        <!-- Quizzes -->
        <div class="card" id="quizzes">
            <h3>üìù Quizzes Taken</h3>
            <canvas id="quizChart" height="200"></canvas>
        </div>

        <!-- Fines -->
        <div class="card" id="fines">
            <h3>üí∞ Fines Paid</h3>
            <canvas id="fineChart" height="200"></canvas>
        </div>

        <!-- Messages -->
        <div class="card" id="messages">
            <h3>üì© Contact Us Messages</h3>
            <table id="contact-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Message</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

    </div>

    <script>
        function goBack() { window.history.back(); }
        function showSection(id) {
            document.querySelectorAll(".main .card").forEach(c => c.style.display = "none");
            document.getElementById(id).style.display = "block";
        }
        showSection('profile');

        // Sample user data
        const username = localStorage.getItem("username") || "Guest User";
        const email = localStorage.getItem("email") || "guest@example.com";
        const phone = localStorage.getItem("phone") || "+91-0000000000";
        const profilePic = localStorage.getItem("profilePic") || "p1.png";
        const joinedDate = localStorage.getItem("joinedDate") || "Jan 2025";

        document.getElementById("username").textContent = username;
        document.getElementById("email").textContent = "üìß " + email;
        document.getElementById("phone").textContent = "üì± " + phone;
        document.getElementById("profile-pic").src = profilePic;
        document.getElementById("joined").textContent = "üóìÔ∏è Joined: " + joinedDate;

        // Sample Reminders
        const reminders = JSON.parse(localStorage.getItem("reminders")) || ["Check Tire Pressure", "Update Insurance"];
        const reminderList = document.getElementById("reminder-list");
        reminders.forEach(rem => { let li = document.createElement("li"); li.innerHTML = `<i class="fas fa-bell"></i>${rem}`; reminderList.appendChild(li); });
        document.getElementById("reminder-count").textContent = reminders.length;

        // Sample Quizzes
        const quizzes = JSON.parse(localStorage.getItem("quizzes")) || [
            { title: "Traffic Rules", score: 90 },
            { title: "Road Signs", score: 75 },
            { title: "Safe Driving", score: 60 }
        ];
        document.getElementById("quiz-count").textContent = quizzes.length;
        const quizLabels = quizzes.map(q => q.title);
        const quizScores = quizzes.map(q => q.score);
        new Chart(document.getElementById("quizChart"), {
            type: 'bar',
            data: {
                labels: quizLabels, datasets: [{
                    label: 'Score %', data: quizScores,
                    backgroundColor: quizScores.map(s => s > 80 ? '#00cc66' : '#ffb200'), borderRadius: 5
                }]
            },
            options: {
                responsive: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, max: 100 } },
                animation: { duration: 1200, easing: 'easeOutQuart' }
            }
        });

        // Sample Fines
        const fines = JSON.parse(localStorage.getItem("fines")) || [
            { type: "Speeding", amount: 1000 },
            { type: "No Helmet", amount: 300 },
            { type: "Red Light", amount: 700 }
        ];
        document.getElementById("fine-count").textContent = fines.length;
        const fineLabels = fines.map(f => f.type);
        const fineAmounts = fines.map(f => f.amount);
        new Chart(document.getElementById("fineChart"), {
            type: 'bar',
            data: {
                labels: fineLabels, datasets: [{
                    label: 'Amount ‚Çπ', data: fineAmounts,
                    backgroundColor: fineAmounts.map(a => a > 500 ? '#ff4d4d' : '#00cc66'), borderRadius: 5
                }]
            },
            options: {
                responsive: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } },
                animation: { duration: 1200, easing: 'easeOutQuart' }
            }
        });

        // Sample Messages
        const messages = JSON.parse(localStorage.getItem("messages")) || [
            { date: "2025-09-19", text: "Need help with registration", status: "Sent" },
            { date: "2025-09-18", text: "Report a fine", status: "Read" }
        ];
        document.getElementById("msg-count").textContent = messages.length;
        const tbody = document.querySelector("#contact-table tbody");
        messages.forEach(msg => {
            let tr = document.createElement("tr");
            tr.innerHTML = `<td>${msg.date}</td><td>${msg.text}</td><td class="status ${msg.status}">${msg.status}</td>`;
            tbody.appendChild(tr);
        });
    </script>
</body>

</html>